{% extends 'base.html' %}

{% block title %}–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä{% endblock %}

{% block content %}
    <title>–§–∏–∑–∏—á–µ—Å–∫–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        

        /* –°—Ç–∏–ª–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
        .welcome-container {
            text-align: center;
            padding: 50px 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .physics-svg {
            width: 443px;
            height: 344px;
            margin: 17px auto;
            position: relative;
            left: 12%;
        }

        .welcome-title {
            color: var(--text-color);
            font-size: 1.9em;
            margin: 20px 0;
            position: relative;
            top: -45px;
            right: 21%;
        }

        .description {
            color:var(--text-color);
            font-size: 1.1em;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .start-btn {
            background: var(--button-bg);
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.2em;
            cursor: pointer;
            border: none;
            transition: transform 0.3s;
        }

        .start-btn:hover {
            transform: scale(1.05);
            background:var(--button-hover);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–µ–Ω—é –∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ */
        .menu-toggle {
            position: fixed;
            top: 79px;
            left: 95px;
            cursor: pointer;
            z-index: 1000;
            background: #2c3e50;
            padding: 12px 15px;
            border-radius: 5px;
            color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .sidebar {
            position: fixed;
            left: -307px;
            top: 66px;
            width: 300px;
            height: 90%;
            background: var(--bg-color);
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: 0.3s;
            padding: 20px;
            overflow-y: auto;
            border-radius: 30px;
        }

        .sidebar.active {
            left: 0;
        }

        .search-container {
            margin-bottom: 25px;
            margin-top: 60px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –ø–æ–∏—Å–∫–∞ */
        }

        .search-enput {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .search-enput:focus {
            border-color: #3498db;
            outline: none;
        }

        .formula-category {
            margin-bottom: 25px;
        }

        .category-title {
            font-weight: 600;
            color: var(--bg-color);
            margin: 15px 0;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 0.95em;
        }

        .formula-item {
            padding: 12px;
            cursor: pointer;
            border-radius: 6px;
            margin: 8px 0;
            transition: 0.2s;
            background:var(--button-bg);
            border: 1px solid #e9ecef;
        }

        .formula-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .content {
            margin-left: 0;
            padding: 80px 20px 20px;
            transition: 0.3s;
            display: none; /* –°–∫—Ä—ã–≤–∞–µ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–∞ —Å—Ç–∞—Ä—Ç–µ */
        }

        .details {
            background: var(--button-color);
            max-width: 600px;
            margin: 20px auto;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0px 0px 20px 9px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .details h2 {
            color:var(--text-color);
            margin-bottom: 20px;
            font-size: 1.4em;
        }

        label {
            display: block;
            margin: 15px 0 8px;
            color:var(--text-color);
            font-weight: 500;
        }

        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus {
            border-color: #3498db;
            outline: none;
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            background:var(--bg-color);
            border-radius: 6px;
            font-weight: 600;
            color:var(--text-color);
        }

        .theory {
            margin-top: 20px;
            padding: 15px;
            background:var(--bg-color);
            border-radius: 6px;
            font-size: 0.95em;
            line-height: 1.6;
            color:var(--text-color);
        }

        .history-icon {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #2c3e50;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
        }

        .history-popup {
            display: none;
            position: fixed;
            bottom: 100px;
            right: 30px;
            background: var(--bg-color);
            width: 300px;
            max-height: 400px;
            overflow-y: auto;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            padding: 20px;
            z-index: 1000;
        }

        .history-item {
            padding: 12px;
            margin: 8px 0;
            background:var(--button-bg);
            border-radius: 35px;
            font-size: 0.9em;
        }

        /* –£–±–æ—Ä–∫–∞ –ª–∏—à–Ω–∏—Ö —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã SVG */
        .center-line {
            display: none;
        }  

        .title-container {
            display: none;
        }

        .paragraph-container {
            display: none;
        }

        .h2 {
            display: none;
        }

        .h3 {
            display: none;
        }

        #character-container {
            display: none;
        }

        .svg-container {
            display: none;
        }

        @media (max-width: 768px) {
            .content.active {
                margin-left: 0;
            }
            
            .sidebar {
                width: 100%;
                left: -100%;
            }
            
            .sidebar.active {
                left: 0;
            }

        }
    </style>
</head>
<body>

<!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
<div class="welcome-container" id="welcomePage">
    <svg class="physics-svg" viewBox="0 0 150 100">
        <circle cx="50" cy="50" r="45" fill="none" stroke="#fff" stroke-width="2"/>
        <g transform="translate(30,30)">
            <circle cx="25" cy="25" r="5" fill="#3498db">
                <animate attributeName="r" values="5;3;5" dur="1.5s" repeatCount="indefinite"/>
            </circle>
            <path d="M25,25 L50,50" stroke="#e74c3c" stroke-width="1.5"/>
            <circle cx="50" cy="50" r="8" fill="#2ecc71">
                <animate attributeName="cx" values="50;55;50" dur="2s" repeatCount="indefinite"/>
            </circle>
            <path d="M50,50 Q65,35 80,50" stroke="#f1c40f" fill="none" stroke-width="1.5"/>
            <rect x="60" y="60" width="5" height="5" fill="#9b59b6" transform="rotate(45 65 65)">
                <animateTransform attributeName="transform" type="rotate" from="0 65 65" to="360 65 65" dur="3s" repeatCount="indefinite"/>
            </rect>
        </g>
    </svg>
    
    <h1 class="welcome-title">–§–∏–∑–∏—á–µ—Å–∫–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h1>
    
    <p class="description">
        –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á –ø–æ —Ñ–∏–∑–∏–∫–µ. –í—ã–±–∏—Ä–∞–π—Ç–µ –Ω—É–∂–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã, 
        –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è. –†–∞–±–æ—Ç–∞–µ—Ç —Å –º–µ—Ö–∞–Ω–∏–∫–æ–π, 
        —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–æ–π, —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ–º –∏ –¥—Ä—É–≥–∏–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ —Ñ–∏–∑–∏–∫–∏.
    </p>
    
    <button class="start-btn" onclick="toggleSidebar()">–ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã</button>
</div>

<!-- –û—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Å –º–µ–Ω—é –∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º -->
<div class="menu-toggle" onclick="toggleSidebar()">‚ò∞ –§–æ—Ä–º—É–ª—ã</div>

<div class="sidebar" id="sidebar">
    <div class="search-container">
        <input type="text" class="search-enput" placeholder="–ü–æ–∏—Å–∫ —Ñ–æ—Ä–º—É–ª..." oninput="filterFormulas()">
    </div>
    
    <div class="formula-category">
        <div class="category-title">–ú–µ—Ö–∞–Ω–∏–∫–∞</div>
        <div class="formula-item" onclick="showFormula('forceDetails')">–°–∏–ª–∞ (F = m¬∑a)</div>
        <div class="formula-item" onclick="showFormula('workDetails')">–†–∞–±–æ—Ç–∞ (W = F¬∑d)</div>
        <div class="formula-item" onclick="showFormula('keDetails')">–ö–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è (KE = ¬Ωmv¬≤)</div>
        <div class="formula-item" onclick="showFormula('momentumDetails')">–ò–º–ø—É–ª—å—Å (p = m¬∑v)</div>
        <div class="formula-item" onclick="showFormula('gravityDetails')">–°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ (F = m¬∑g)</div>
        <div class="formula-item" onclick="showFormula('pressureDetails')">–î–∞–≤–ª–µ–Ω–∏–µ (P = F/S)</div>
    </div>

    <div class="formula-category">
        <div class="category-title">–≠–Ω–µ—Ä–≥–∏—è</div>
        <div class="formula-item" onclick="showFormula('workEnergyDetails')">–†–∞–±–æ—Ç–∞ —Å —É–≥–ª–æ–º (W = F¬∑d¬∑cosŒ∏)</div>
        <div class="formula-item" onclick="showFormula('thermalDetails')">–¢–µ–ø–ª–æ—Ç–∞ (Q = mcŒîT)</div>
    </div>

    <div class="formula-category">
        <div class="category-title">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ</div>
        <div class="formula-item" onclick="showFormula('ohmDetails')">–ó–∞–∫–æ–Ω –û–º–∞ (U = I¬∑R)</div>
        <div class="formula-item" onclick="showFormula('powerDetails')">–ú–æ—â–Ω–æ—Å—Ç—å (P = W/t)</div>
        <div class="formula-item" onclick="showFormula('coulombDetails')">–ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞ (F = k¬∑q‚ÇÅq‚ÇÇ/r¬≤)</div>
    </div>

    <div class="formula-category">
        <div class="category-title">–í–æ–ª–Ω—ã</div>
        <div class="formula-item" onclick="showFormula('waveDetails')">–°–∫–æ—Ä–æ—Å—Ç—å –≤–æ–ª–Ω—ã (v = f¬∑Œª)</div>
    </div>
</div>

<div class="content" id="mainContent">
    <!-- –ë–ª–æ–∫–∏ —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ -->
    <div class="details" id="forceDetails">
        <h2>–†–∞—Å—á–µ—Ç —Å–∏–ª—ã (F = m¬∑a)</h2>
        <label>–ú–∞—Å—Å–∞ (–∫–≥): <input type="number" id="mass"></label>
        <label>–£—Å–∫–æ—Ä–µ–Ω–∏–µ (–º/—Å¬≤): <input type="number" id="acceleration"></label>
        <button onclick="calculateForce()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="forceResult"></div>
        <div class="theory" id="forceTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –°–∏–ª–∞ ‚Äî —ç—Ç–æ –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –≤–µ–ª–∏—á–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ —Ç–µ–ª–æ, –≤—ã–∑—ã–≤–∞—é—â–µ–µ –µ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏–µ. 
            –í—Ç–æ—Ä–æ–π –∑–∞–∫–æ–Ω –ù—å—é—Ç–æ–Ω–∞ –≥–ª–∞—Å–∏—Ç, —á—Ç–æ —Å–∏–ª–∞ —Ä–∞–≤–Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é –º–∞—Å—Å—ã —Ç–µ–ª–∞ –Ω–∞ –µ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (F = m¬∑a). 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å–∏–ª—ã ‚Äî –ù—å—é—Ç–æ–Ω (–ù).
        </div>
    </div>

    <div class="details" id="workDetails">
        <h2>–†–∞—Å—á–µ—Ç —Ä–∞–±–æ—Ç—ã (W = F¬∑d)</h2>
        <label>–°–∏–ª–∞ (–ù): <input type="number" id="force"></label>
        <label>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–º): <input type="number" id="distance"></label>
        <button onclick="calculateWork()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="workResult"></div>
        <div class="theory" id="workTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –†–∞–±–æ—Ç–∞ ‚Äî —ç—Ç–æ —Å–∫–∞–ª—è—Ä–Ω–∞—è –≤–µ–ª–∏—á–∏–Ω–∞, —Ä–∞–≤–Ω–∞—è –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é —Å–∏–ª—ã –Ω–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –∫–æ—Å–∏–Ω—É—Å —É–≥–ª–∞ –º–µ–∂–¥—É –Ω–∏–º–∏. 
            –ï—Å–ª–∏ —Å–∏–ª–∞ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É, —Ä–∞–±–æ—Ç–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ W = F¬∑d. 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã ‚Äî –î–∂–æ—É–ª—å (–î–∂).
        </div>
    </div>

    <div class="details" id="keDetails">
        <h2>–ö–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è (KE = ¬Ωmv¬≤)</h2>
        <label>–ú–∞—Å—Å–∞ (–∫–≥): <input type="number" id="massKE"></label>
        <label>–°–∫–æ—Ä–æ—Å—Ç—å (–º/—Å): <input type="number" id="velocity"></label>
        <button onclick="calculateKineticEnergy()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="keResult"></div>
        <div class="theory" id="keTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –ö–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è ‚Äî —ç—Ç–æ —ç–Ω–µ—Ä–≥–∏—è –¥–≤–∏–∂–µ–Ω–∏—è. –û–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–∞—Å—Å—ã —Ç–µ–ª–∞ –∏ –µ–≥–æ —Å–∫–æ—Ä–æ—Å—Ç–∏. 
            –§–æ—Ä–º—É–ª–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞: KE = ¬Ωmv¬≤, –≥–¥–µ m ‚Äî –º–∞—Å—Å–∞, v ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å. 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Äî –î–∂–æ—É–ª—å (–î–∂).
        </div>
    </div>

    <div class="details" id="momentumDetails">
        <h2>–ò–º–ø—É–ª—å—Å (p = m¬∑v)</h2>
        <label>–ú–∞—Å—Å–∞ (–∫–≥): <input type="number" id="massP"></label>
        <label>–°–∫–æ—Ä–æ—Å—Ç—å (–º/—Å): <input type="number" id="velocityP"></label>
        <button onclick="calculateMomentum()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="momentumResult"></div>
        <div class="theory" id="momentumTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –ò–º–ø—É–ª—å—Å ‚Äî —ç—Ç–æ –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –≤–µ–ª–∏—á–∏–Ω–∞, —Ä–∞–≤–Ω–∞—è –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é –º–∞—Å—Å—ã —Ç–µ–ª–∞ –Ω–∞ –µ–≥–æ —Å–∫–æ—Ä–æ—Å—Ç—å (p = m¬∑v). 
            –ò–º–ø—É–ª—å—Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–≤–∏–∂–µ–Ω–∏—è —Ç–µ–ª–∞. –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Äî –∫–≥¬∑–º/—Å.
        </div>
    </div>

    <div class="details" id="gravityDetails">
        <h2>–°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ (F = m¬∑g)</h2>
        <label>–ú–∞—Å—Å–∞ (–∫–≥): <input type="number" id="massG"></label>
        <button onclick="calculateGravity()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="gravityResult"></div>
        <div class="theory" id="gravityTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ ‚Äî —ç—Ç–æ —Å–∏–ª–∞, —Å –∫–æ—Ç–æ—Ä–æ–π –ó–µ–º–ª—è –ø—Ä–∏—Ç—è–≥–∏–≤–∞–µ—Ç —Ç–µ–ª–æ. 
            –û–Ω–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ F = m¬∑g, –≥–¥–µ m ‚Äî –º–∞—Å—Å–∞ —Ç–µ–ª–∞, g ‚Äî —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è (~9.81 –º/—Å¬≤). 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Äî –ù—å—é—Ç–æ–Ω (–ù).
        </div>
    </div>

    <div class="details" id="pressureDetails">
        <h2>–î–∞–≤–ª–µ–Ω–∏–µ (P = F/S)</h2>
        <label>–°–∏–ª–∞ (–ù): <input type="number" id="forceP"></label>
        <label>–ü–ª–æ—â–∞–¥—å (–º¬≤): <input type="number" id="area"></label>
        <button onclick="calculatePressure()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="pressureResult"></div>
        <div class="theory" id="pressureTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –î–∞–≤–ª–µ–Ω–∏–µ ‚Äî —ç—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –≤–µ–ª–∏—á–∏–Ω–∞, —Ä–∞–≤–Ω–∞—è –æ—Ç–Ω–æ—à–µ–Ω–∏—é —Å–∏–ª—ã –∫ –ø–ª–æ—â–∞–¥–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –æ–Ω–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç. 
            –§–æ—Ä–º—É–ª–∞: P = F/S, –≥–¥–µ F ‚Äî —Å–∏–ª–∞, S ‚Äî –ø–ª–æ—â–∞–¥—å. –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Äî –ü–∞—Å–∫–∞–ª—å (–ü–∞).
        </div>
    </div>

    <div class="details" id="workEnergyDetails">
        <h2>–†–∞–±–æ—Ç–∞ —Å —É–≥–ª–æ–º (W = F¬∑d¬∑cosŒ∏)</h2>
        <label>–°–∏–ª–∞ (–ù): <input type="number" id="forceWE"></label>
        <label>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–º): <input type="number" id="distanceWE"></label>
        <label>–£–≥–æ–ª (–≥—Ä–∞–¥—É—Å—ã): <input type="number" id="angle"></label>
        <button onclick="calculateWorkEnergy()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="workEnergyResult"></div>
        <div class="theory" id="workEnergyTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –†–∞–±–æ—Ç–∞ —Å —É—á–µ—Ç–æ–º —É–≥–ª–∞ ‚Äî —ç—Ç–æ —Ä–∞–±–æ—Ç–∞, —Å–æ–≤–µ—Ä—à–∞–µ–º–∞—è —Å–∏–ª–æ–π, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ø–æ–¥ —É–≥–ª–æ–º –∫ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—é. 
            –§–æ—Ä–º—É–ª–∞: W = F¬∑d¬∑cosŒ∏, –≥–¥–µ Œ∏ ‚Äî —É–≥–æ–ª –º–µ–∂–¥—É —Å–∏–ª–æ–π –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º. –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Äî –î–∂–æ—É–ª—å (–î–∂).
        </div>
    </div>

    <div class="details" id="thermalDetails">
        <h2>–¢–µ–ø–ª–æ—Ç–∞ (Q = mcŒîT)</h2>
        <label>–ú–∞—Å—Å–∞ (–∫–≥): <input type="number" id="massT"></label>
        <label>–£–¥–µ–ª—å–Ω–∞—è —Ç–µ–ø–ª–æ–µ–º–∫–æ—Å—Ç—å (–î–∂/(–∫–≥¬∑¬∞C)): <input type="number" id="specificHeat"></label>
        <label>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (¬∞C): <input type="number" id="deltaT"></label>
        <button onclick="calculateThermal()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="thermalResult"></div>
        <div class="theory" id="thermalTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –¢–µ–ø–ª–æ—Ç–∞ ‚Äî —ç—Ç–æ —ç–Ω–µ—Ä–≥–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è –º–µ–∂–¥—É —Ç–µ–ª–∞–º–∏ –∏–∑-–∑–∞ —Ä–∞–∑–Ω–∏—Ü—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä. 
            –§–æ—Ä–º—É–ª–∞: Q = mcŒîT, –≥–¥–µ m ‚Äî –º–∞—Å—Å–∞, c ‚Äî —É–¥–µ–ª—å–Ω–∞—è —Ç–µ–ø–ª–æ–µ–º–∫–æ—Å—Ç—å, ŒîT ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã. 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Äî –î–∂–æ—É–ª—å (–î–∂).
        </div>
    </div>

    <div class="details" id="ohmDetails">
        <h2>–ó–∞–∫–æ–Ω –û–º–∞ (U = I¬∑R)</h2>
        <label>–°–∏–ª–∞ —Ç–æ–∫–∞ (–ê): <input type="number" id="current"></label>
        <label>–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ (–û–º): <input type="number" id="resistance"></label>
        <button onclick="calculateOhm()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="ohmResult"></div>
        <div class="theory" id="ohmTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –ó–∞–∫–æ–Ω –û–º–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, —Å–∏–ª—É —Ç–æ–∫–∞ –∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–π —Ü–µ–ø–∏. 
            –§–æ—Ä–º—É–ª–∞: U = I¬∑R, –≥–¥–µ U ‚Äî –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, I ‚Äî —Å–∏–ª–∞ —Ç–æ–∫–∞, R ‚Äî —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ. 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è ‚Äî –í–æ–ª—å—Ç (–í).
        </div>
    </div>

    <div class="details" id="powerDetails">
        <h2>–ú–æ—â–Ω–æ—Å—Ç—å (P = W/t)</h2>
        <label>–†–∞–±–æ—Ç–∞ (–î–∂): <input type="number" id="workP"></label>
        <label>–í—Ä–µ–º—è (—Å): <input type="number" id="timeP"></label>
        <button onclick="calculatePower()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="powerResult"></div>
        <div class="theory" id="powerTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –ú–æ—â–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –≤–µ–ª–∏—á–∏–Ω–∞, —Ä–∞–≤–Ω–∞—è –æ—Ç–Ω–æ—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã –∫–æ –≤—Ä–µ–º–µ–Ω–∏. 
            –§–æ—Ä–º—É–ª–∞: P = W/t, –≥–¥–µ W ‚Äî —Ä–∞–±–æ—Ç–∞, t ‚Äî –≤—Ä–µ–º—è. –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ‚Äî –í–∞—Ç—Ç (–í—Ç).
        </div>
    </div>

    <div class="details" id="coulombDetails">
        <h2>–ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞ (F = k¬∑q‚ÇÅq‚ÇÇ/r¬≤)</h2>
        <label>–ó–∞—Ä—è–¥ 1 (–ö–ª): <input type="number" id="charge1"></label>
        <label>–ó–∞—Ä—è–¥ 2 (–ö–ª): <input type="number" id="charge2"></label>
        <label>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–º): <input type="number" id="distanceC"></label>
        <button onclick="calculateCoulomb()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="coulombResult"></div>
        <div class="theory" id="coulombTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∏–ª—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–µ—á–Ω—ã–º–∏ –∑–∞—Ä—è–¥–∞–º–∏. 
            –§–æ—Ä–º—É–ª–∞: F = k¬∑q‚ÇÅq‚ÇÇ/r¬≤, –≥–¥–µ k ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ö—É–ª–æ–Ω–∞ (~9√ó10‚Åπ –ù¬∑–º¬≤/–ö–ª¬≤), q‚ÇÅ –∏ q‚ÇÇ ‚Äî –∑–∞—Ä—è–¥—ã, r ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏. 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å–∏–ª—ã ‚Äî –ù—å—é—Ç–æ–Ω (–ù).
        </div>
    </div>

    <div class="details" id="waveDetails">
        <h2>–°–∫–æ—Ä–æ—Å—Ç—å –≤–æ–ª–Ω—ã (v = f¬∑Œª)</h2>
        <label>–ß–∞—Å—Ç–æ—Ç–∞ (–ì—Ü): <input type="number" id="frequency"></label>
        <label>–î–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã (–º): <input type="number" id="wavelength"></label>
        <button onclick="calculateWaveSpeed()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div class="result" id="waveResult"></div>
        <div class="theory" id="waveTheory">
            <strong>–¢–µ–æ—Ä–∏—è:</strong> –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ–ª–Ω—ã ‚Äî —ç—Ç–æ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤–æ–ª–Ω—ã –≤ —Å—Ä–µ–¥–µ. 
            –§–æ—Ä–º—É–ª–∞: v = f¬∑Œª, –≥–¥–µ f ‚Äî —á–∞—Å—Ç–æ—Ç–∞, Œª ‚Äî –¥–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã. 
            –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ ‚Äî –º/—Å.
        </div>
    </div>
</div>

<div class="history-icon" onclick="toggleHistory()">üìú</div>
<a href="{% url 'index' %}" class="button">üìö –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
<div class="history-popup" id="historyPopup">
    <h3>–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤</h3>
    <div id="historyList"></div>
</div>

<script>
    let history = [];

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
    function startCalculations() {
        document.getElementById('welcomePage').style.display = 'none';
        document.getElementById('mainContent').style.display = 'block';
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–∫–æ–≤—ã–º –º–µ–Ω—é
    function toggleSidebar() {
        document.getElementById('sidebar').classList.toggle('active');
        document.getElementById('mainContent').classList.toggle('active');
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ñ–æ—Ä–º—É–ª—É
    function showFormula(formulaId) {
        document.getElementById('welcomePage').style.display = 'none';
        document.getElementById('mainContent').style.display = 'block';
        document.querySelectorAll('.details').forEach(d => d.style.display = 'none');
        document.getElementById(formulaId).style.display = 'block';
        window.scrollTo(0, 0);
    }

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º—É–ª
    function filterFormulas() {
        const search = document.querySelector('.search-enput').value.toLowerCase();
        document.querySelectorAll('.formula-item').forEach(item => {
            item.style.display = item.textContent.toLowerCase().includes(search) ? 'block' : 'none';
        });
    }

    // –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤
    function addToHistory(formula, result) {
        history.unshift({formula, result});
        if(history.length > 50) history.pop();
        updateHistory();
    }

    function updateHistory() {
        document.getElementById('historyList').innerHTML = history
            .map((item, index) => `
                <div class="history-item">
                    <strong>${index+1}.</strong> ${item.formula}<br>
                    –†–µ–∑—É–ª—å—Ç–∞—Ç: ${item.result}
                </div>
            `).join('');
    }

    function toggleHistory() {
        document.getElementById('historyPopup').style.display = 
            document.getElementById('historyPopup').style.display === 'block' ? 'none' : 'block';
    }

    // –§—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–æ–≤
    function calculateForce() {
        const m = parseFloat(document.getElementById('mass').value);
        const a = parseFloat(document.getElementById('acceleration').value);
        const result = m * a;
        document.getElementById('forceResult').innerHTML = `
            –°–∏–ª–∞: <strong>${result.toFixed(2)} –ù</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: F = ${m} √ó ${a} = ${result.toFixed(2)} –ù</small>
        `;
        addToHistory('–°–∏–ª–∞ (F = m¬∑a)', `${result.toFixed(2)} –ù`);
    }

    function calculateWork() {
        const f = parseFloat(document.getElementById('force').value);
        const d = parseFloat(document.getElementById('distance').value);
        const result = f * d;
        document.getElementById('workResult').innerHTML = `
            –†–∞–±–æ—Ç–∞: <strong>${result.toFixed(2)} –î–∂</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: W = ${f} √ó ${d} = ${result.toFixed(2)} –î–∂</small>
        `;
        addToHistory('–†–∞–±–æ—Ç–∞ (W = F¬∑d)', `${result.toFixed(2)} –î–∂`);
    }

    function calculateKineticEnergy() {
        const m = parseFloat(document.getElementById('massKE').value);
        const v = parseFloat(document.getElementById('velocity').value);
        const result = 0.5 * m * Math.pow(v, 2);
        document.getElementById('keResult').innerHTML = `
            –ö–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è: <strong>${result.toFixed(2)} –î–∂</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: KE = ¬Ω √ó ${m} √ó ${v}¬≤ = ${result.toFixed(2)} –î–∂</small>
        `;
        addToHistory('–ö–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è (KE = ¬Ωmv¬≤)', `${result.toFixed(2)} –î–∂`);
    }

    function calculateMomentum() {
        const m = parseFloat(document.getElementById('massP').value);
        const v = parseFloat(document.getElementById('velocityP').value);
        const result = m * v;
        document.getElementById('momentumResult').innerHTML = `
            –ò–º–ø—É–ª—å—Å: <strong>${result.toFixed(2)} –∫–≥¬∑–º/—Å</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: p = ${m} √ó ${v} = ${result.toFixed(2)} –∫–≥¬∑–º/—Å</small>
        `;
        addToHistory('–ò–º–ø—É–ª—å—Å (p = m¬∑v)', `${result.toFixed(2)} –∫–≥¬∑–º/—Å`);
    }

    function calculateGravity() {
        const m = parseFloat(document.getElementById('massG').value);
        const g = 9.81;
        const result = m * g;
        document.getElementById('gravityResult').innerHTML = `
            –°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏: <strong>${result.toFixed(2)} –ù</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: F = ${m} √ó 9.81 = ${result.toFixed(2)} –ù</small>
        `;
        addToHistory('–°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ (F = m¬∑g)', `${result.toFixed(2)} –ù`);
    }

    function calculatePressure() {
        const f = parseFloat(document.getElementById('forceP').value);
        const s = parseFloat(document.getElementById('area').value);
        const result = f / s;
        document.getElementById('pressureResult').innerHTML = `
            –î–∞–≤–ª–µ–Ω–∏–µ: <strong>${result.toFixed(2)} –ü–∞</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: P = ${f} / ${s} = ${result.toFixed(2)} –ü–∞</small>
        `;
        addToHistory('–î–∞–≤–ª–µ–Ω–∏–µ (P = F/S)', `${result.toFixed(2)} –ü–∞`);
    }

    function calculateWorkEnergy() {
        const f = parseFloat(document.getElementById('forceWE').value);
        const d = parseFloat(document.getElementById('distanceWE').value);
        const angle = parseFloat(document.getElementById('angle').value);
        const result = f * d * Math.cos((angle * Math.PI) / 180);
        document.getElementById('workEnergyResult').innerHTML = `
            –†–∞–±–æ—Ç–∞: <strong>${result.toFixed(2)} –î–∂</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: W = ${f} √ó ${d} √ó cos(${angle}¬∞) = ${result.toFixed(2)} –î–∂</small>
        `;
        addToHistory('–†–∞–±–æ—Ç–∞ —Å —É–≥–ª–æ–º (W = F¬∑d¬∑cosŒ∏)', `${result.toFixed(2)} –î–∂`);
    }

    function calculateThermal() {
        const m = parseFloat(document.getElementById('massT').value);
        const c = parseFloat(document.getElementById('specificHeat').value);
        const deltaT = parseFloat(document.getElementById('deltaT').value);
        const result = m * c * deltaT;
        document.getElementById('thermalResult').innerHTML = `
            –¢–µ–ø–ª–æ—Ç–∞: <strong>${result.toFixed(2)} –î–∂</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: Q = ${m} √ó ${c} √ó ${deltaT} = ${result.toFixed(2)} –î–∂</small>
        `;
        addToHistory('–¢–µ–ø–ª–æ—Ç–∞ (Q = mcŒîT)', `${result.toFixed(2)} –î–∂`);
    }

    function calculateOhm() {
        const i = parseFloat(document.getElementById('current').value);
        const r = parseFloat(document.getElementById('resistance').value);
        const result = i * r;
        document.getElementById('ohmResult').innerHTML = `
            –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ: <strong>${result.toFixed(2)} –í</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: U = ${i} √ó ${r} = ${result.toFixed(2)} –í</small>
        `;
        addToHistory('–ó–∞–∫–æ–Ω –û–º–∞ (U = I¬∑R)', `${result.toFixed(2)} –í`);
    }

    function calculatePower() {
        const w = parseFloat(document.getElementById('workP').value);
        const t = parseFloat(document.getElementById('timeP').value);
        const result = w / t;
        document.getElementById('powerResult').innerHTML = `
            –ú–æ—â–Ω–æ—Å—Ç—å: <strong>${result.toFixed(2)} –í—Ç</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: P = ${w} / ${t} = ${result.toFixed(2)} –í—Ç</small>
        `;
        addToHistory('–ú–æ—â–Ω–æ—Å—Ç—å (P = W/t)', `${result.toFixed(2)} –í—Ç`);
    }

    function calculateCoulomb() {
        const q1 = parseFloat(document.getElementById('charge1').value);
        const q2 = parseFloat(document.getElementById('charge2').value);
        const r = parseFloat(document.getElementById('distanceC').value);
        const k = 9e9;
        const result = (k * q1 * q2) / Math.pow(r, 2);
        document.getElementById('coulombResult').innerHTML = `
            –°–∏–ª–∞: <strong>${result.toFixed(2)} –ù</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: F = (9√ó10‚Åπ √ó ${q1} √ó ${q2}) / ${r}¬≤ = ${result.toFixed(2)} –ù</small>
        `;
        addToHistory('–ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞ (F = k¬∑q‚ÇÅq‚ÇÇ/r¬≤)', `${result.toFixed(2)} –ù`);
    }

    function calculateWaveSpeed() {
        const f = parseFloat(document.getElementById('frequency').value);
        const Œª = parseFloat(document.getElementById('wavelength').value);
        const result = f * Œª;
        document.getElementById('waveResult').innerHTML = `
            –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ–ª–Ω—ã: <strong>${result.toFixed(2)} –º/—Å</strong><br>
            <small>–†–µ—à–µ–Ω–∏–µ: v = ${f} √ó ${Œª} = ${result.toFixed(2)} –º/—Å</small>
        `;
        addToHistory('–°–∫–æ—Ä–æ—Å—Ç—å –≤–æ–ª–Ω—ã (v = f¬∑Œª)', `${result.toFixed(2)} –º/—Å`);
    }
</script>

{% endblock %}