<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–∑–∏—á–µ—Å–∫–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-4xl">
        <h2 class="text-3xl font-bold text-center mb-6">–§–∏–∑–∏—á–µ—Å–∫–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
        
        <label class="block mb-2 text-lg">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º—É–ª—É:</label>
        <select id="formula" class="w-full p-3 border rounded mb-4 text-lg" onchange="updateFields()">
            <option value="f_ma">F = m * a</option>
            <option value="e_mgh">E = m * g * h</option>
            <option value="v_st">V = S / t</option>
            <option value="p_w">P = W / t</option>
            <option value="a_v">a = (v - v0) / t</option>
            <option value="v_c">V = ‚àö(2 * g * h)</option>
            <option value="q_ohm">I = U / R</option>
        </select>

        <div id="inputs" class="mb-4"></div>
        <div id="formulaDescription" class="text-sm mb-4 text-gray-700"></div>
        
        <label class="block text-lg">–í–≤–µ–¥–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞—á–∏:</label>
        <textarea id="problem" class="w-full p-3 border rounded mb-4 text-lg" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∑–∞–¥–∞—á—É..."></textarea>

        <button onclick="calculate()" class="w-full bg-blue-500 text-white p-3 rounded text-xl">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div id="result" class="mt-4 text-center text-xl font-semibold"></div>

        <p class="mt-4 text-center text-gray-600"><a href="{% url 'index' %}" class="text-blue-500">üîô –ù–∞ –≥–ª–∞–≤–Ω—É—é</a></p>

    </div>

    <script>
        const formulaDescriptions = {
            'f_ma': { description: "–°–∏–ª–∞ (F) —Ä–∞–≤–Ω–∞ –º–∞—Å—Å–µ (m), —É–º–Ω–æ–∂–µ–Ω–Ω–æ–π –Ω–∞ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (a).", variables: ['m', 'a'] },
            'e_mgh': { description: "–≠–Ω–µ—Ä–≥–∏—è (E) —Ä–∞–≤–Ω–∞ –º–∞—Å—Å–µ (m), —É—Å–∫–æ—Ä–µ–Ω–∏—é —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è (g) –∏ –≤—ã—Å–æ—Ç–µ (h).", variables: ['m', 'g', 'h'] },
            'v_st': { description: "–°–∫–æ—Ä–æ—Å—Ç—å (V) —Ä–∞–≤–Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (S), –¥–µ–ª–µ–Ω–Ω–æ–º—É –Ω–∞ –≤—Ä–µ–º—è (t).", variables: ['S', 't'] },
            'p_w': { description: "–ú–æ—â–Ω–æ—Å—Ç—å (P) —Ä–∞–≤–Ω–∞ —Ä–∞–±–æ—Ç–µ (W), –¥–µ–ª–µ–Ω–Ω–æ–π –Ω–∞ –≤—Ä–µ–º—è (t).", variables: ['W', 't'] },
            'a_v': { description: "–£—Å–∫–æ—Ä–µ–Ω–∏–µ (a) —Ä–∞–≤–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å–∫–æ—Ä–æ—Å—Ç–∏ (v - v0) –¥–µ–ª–µ–Ω–Ω–æ–º—É –Ω–∞ –≤—Ä–µ–º—è (t).", variables: ['v', 'v0', 't'] },
            'v_c': { description: "–°–∫–æ—Ä–æ—Å—Ç—å —Ç–µ–ª–∞ (V) –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Å –≤—ã—Å–æ—Ç—ã (h) —Ä–∞–≤–Ω–∞ ‚àö(2 * g * h).", variables: ['g', 'h'] },
            'q_ohm': { description: "–¢–æ–∫ (I) —Ä–∞–≤–µ–Ω –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—é (U), –¥–µ–ª–µ–Ω–Ω–æ–º—É –Ω–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ (R).", variables: ['U', 'R'] }
        };

        function updateFields() {
            const formula = document.getElementById('formula').value;
            const inputsDiv = document.getElementById('inputs');
            const descriptionDiv = document.getElementById('formulaDescription');
            inputsDiv.innerHTML = '';
            descriptionDiv.innerHTML = `<strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${formulaDescriptions[formula].description}`;
            formulaDescriptions[formula].variables.forEach(variable => {
                inputsDiv.innerHTML += `<label class='block mb-2'>${variable}: <input type='number' id='${variable}' class='w-full p-2 border rounded'></label>`;
            });
        }

        function calculate() {
            const formula = document.getElementById('formula').value;
            let result = 0;
            let values = {};
            let allFilled = true;

            formulaDescriptions[formula].variables.forEach(variable => {
                let value = parseFloat(document.getElementById(variable).value);
                if (isNaN(value)) allFilled = false;
                values[variable] = value;
            });

            if (!allFilled) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }

            switch (formula) {
                case 'f_ma': result = values['m'] * values['a']; break;
                case 'e_mgh': result = values['m'] * values['g'] * values['h']; break;
                case 'v_st': result = values['S'] / values['t']; break;
                case 'p_w': result = values['W'] / values['t']; break;
                case 'a_v': result = (values['v'] - values['v0']) / values['t']; break;
                case 'v_c': result = Math.sqrt(2 * values['g'] * values['h']); break;
                case 'q_ohm': result = values['U'] / values['R']; break;
            }

            document.getElementById('result').innerText = `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`;
        }

        updateFields();
    </script>
</body>
</html>
